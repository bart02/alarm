# GSM сигнализация 
* [Описание проекта](#description)
* [Принцип работы](#scheme)
* [Файлы и папки проекта](#files)
* [Материалы и компоненты](#components)
* [Настройка и использование](#settings)

<a id="description"></a>
## Описание проекта
В качестве управляющего устройства используется Arduino Uno.

Для коммуникации используется GSM-модуль SIM800L.
SIM800L — это плата, предназначенная для подключения Arduino к GSM сетям. SIM800L имеет PCM-интерфейс и аналоговый аудио интерфейс. Базовая прошивка модуля поддерживает функции декодирования DTMF-тонов, записи аудиофайлов и работу с MMS.

Для определения проникновения сигнализация использует геркон. Формирование управляющего сигнала осуществляется путём релейного регулирования. Выходом является простой бинарный цифровой сигнал: логический 0 или 1 в зависимости от положения (есть ли движение, есть ли контакт с магнитом). Единица — есть, ноль — нет. 

Для организации бесперебойной работы устройства были использованы Li-ion аккумуляторы типоразмера 18650, так как они обеспечивают необходимое для работы GSM-модуля напряжение 3,7-4,2В.

<a id="scheme"></a>
## Принцип работы
![СХЕМА](/readme/princip.png)

<a id="files"></a>
## Файлы и папки
- **TMRpcm** - библиотека для проигрывания звуков, скопировать в  
`C:\Program Files (x86)\Arduino\libraries\` (Windows x64)  
`C:\Program Files\Arduino\libraries\` (Windows x86)
- **alarm.ino** - прошивка для Arduino

<a id="components"></a>
## Материалы и компоненты
Компонент  | Количество 
----------------|----------------------
Arduino NANO|1
SIM800L|1
SD-модуль|1
Геркон|1
PIR-датчик движения|1
Аккумулятор 18650|2
Контроллер заряда/разряда аккумулятора|1


<a id="settings"></a>
## Настройка и использование
* [Загрузка прошивки](http://alexgyver.ru/arduino-first/) - ультра подробная статья по началу работы с Ардуино
* Установить библиотеки в
`C:\Program Files (x86)\Arduino\libraries\` (Windows x64)  
`C:\Program Files\Arduino\libraries\` (Windows x86)
* Подключить Ардуино к компьютеру
* Запустить файл прошивки
* Настроить (COM порт, модель Arduino NANO 328)
* Нажать загрузить
* Пользоваться

## Настройки в коде
```arduino
#define PHONE   "xxxxxxxxxx" // номер телефона для звонков, они будут приниматься только с этого номера
#define SIMRX   7 // пин RX SIM800L
#define SIMTX   6 // пин TX SIM800L
#define SPEAKER 9 // пин соединенный с передачей звука на SIM800L
#define SDPIN   4 // пин SD карты
#define MGPIN   3 // пин SD карты
```
